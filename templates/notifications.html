{% extends "base_layout.html" %}

{% block title %}通知一覧{% endblock %}

{% block content %}
    <h2>通知一覧</h2>
    {% if notifications %}
        {% for notification in notifications %}
            <div class="post">
                <p>
                    {{ notification.message }}
                </p>
                
                {% if notification.post_id %}
                    <p>
                        {% if 'いいね' in notification.message %}
                            <a href="{{ url_for('post_detail', post_id=notification.post_id, show_likes=1) }}">投稿詳細へ（いいね一覧）</a>
                        {% else %}
                            <a href="{{ url_for('post_detail', post_id=notification.post_id) }}">投稿詳細へ</a>
                        {% endif %}
                    </p>
                {% elif notification.kairanban_id %}
                    <p><a href="{{ url_for('kairanban_index') }}">回覧板へ</a></p>
                {% endif %}
            </div>
        {% endfor %}
    {% else %}
        <p>新しい通知はありません。</p>
    {% endif %}
{% endblock %}