{% extends "bese_layout.html" %}

{% block title %}プロフィール編集{% endblock %}

{% block content %}
    <h1>プロフィール編集</h1>
    <form method="POST" enctype="multipart/form-data">
        {{ form.csrf_token }}
        <div class="form-field">
            {{ form.username.label }}<br>
            {{ form.username(size=20) }}
            {% for error in form.username.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="form-field">
            {{ form.bio.label }}<br>
            {{ form.bio(cols=40, rows=5) }}
        </div>
        <div class="form-field">
            {{ form.icon.label }}<br>
            {{ form.icon(accept="image/jpeg, image/png, image/gif") }}
            {% if current_user.icon_url %}
                <br>現在のアイコン: <img src="{{ current_user.icon_url }}" alt="現在のアイコン" style="width: 50px; height: 50px; border-radius: 50%;">
            {% endif %}
            {% for error in form.icon.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        {{ form.submit }}
    </form>
{% endblock %}